{% extends "base.html" %}

{% load django_bootstrap_breadcrumbs %}
{% block breadcrumbs %}
{{ block.super }}
{% breadcrumb "Antibiotic Resistant Sepsis Pathogens" "sepsis:index" %}
{% breadcrumb "Samples" "sepsis:samples" %}
{% endblock %}

{% block title %}Sepsis Samples {% endblock %}

{% block content %}

<div class="container-fluid">
    <div class="alert alert-info" role="alert">
        To sort by multiple columns, press and hold the Shift key.
        <div class="bootstrap_buttons"> </div>
    </div>
    <table class="apitable" width="100%">
        <thead>
            <tr>
                <th>Sample ID</th>
                <th>BPA ID</th>
                <th>Data Type</th>
                <th>Taxon Or Organism</th>
                <th>Strain Or Isolate</th>
                <th>Gram Staining</th>
                <th>Serovar</th>
                <th>Strain Description</th>
                <th>Key Virulence Genes</th>
                <th>Isolation Source</th>
                <th>Publication Reference</th>
                <th>Contact Researcher</th>
                <th>Collection Date</th>
                <th>Culture Collection ID</th>
                <th>Study Title</th>
                <th>Investigation Type</th>
                <th>Project Name</th>
                <th>Sample Title</th>
                <th>Ploidy</th>
                <th>Number of Replicants</th>
                <th>Estimated Size</th>
                <th>Propagation</th>
                <th>Collected By</th>
            </tr>
        </thead>
        <tfoot>
            <tr>
                <th>Sample ID</th>
                <th>BPA ID</th>
                <th>Data Type</th>
                <th>Taxon Or Organism</th>
                <th>Strain Or Isolate</th>
                <th>Gram Staining</th>
                <th>Serovar</th>
                <th>Strain Description</th>
                <th>Key Virulence Genes</th>
                <th>Isolation Source</th>
                <th>Publication Reference</th>
                <th>Contact Researcher</th>
                <th>Collection Date</th>
                <th>Culture Collection ID</th>
                <th>Study Title</th>
                <th>Investigation Type</th>
                <th>Project Name</th>
                <th>Sample Title</th>
                <th>Ploidy</th>
                <th>Number of Replicants</th>
                <th>Estimated Size</th>
                <th>Propagation</th>
                <th>Collected By</th>
            </tr>
        </tfoot>
        <tbody>
        </tbody>
    </table>
</div>

<script>
  function sepsis_samples_setup() {
    var url = bpam_config.ckan_base + 'package_list/bpa-sepsis';

    setup_table(function() {
      var config = _.defaults({
        searching: true,

        columns: [{
              'data': 'id',
              'defaultContent': '',
              'searchable': false,
              'render': function(data, type, row) {
                  var url = bpam_config.bpam_base + 'antibiotic_resistant_pathogens/sample/' + data + '/';
                  return '<a href="' + url + '">' + data + '</a>';
              }
            },
            { 'data': 'bpa_id' , 'defaultContent': '', 'searchable': false},
            { 'data': 'data_type' , 'defaultContent': ''},
            { 'data': 'taxon_or_organism' , 'defaultContent': ''},
            { 'data': 'strain_or_isolate' , 'defaultContent': ''},
            { 'data': 'gram_stain' , 'defaultContent': ''},
            { 'data': 'serovar' , 'defaultContent': ''},
            { 'data': 'strain_description' , 'defaultContent': ''},
            { 'data': 'key_virulence_genes' , 'defaultContent': ''},
            { 'data': 'isolation_source' , 'defaultContent': ''},
            { 'data': 'publication_reference' , 'defaultContent': ''},
            { 'data': 'contact_researcher' , 'defaultContent': ''},
            { 'data': 'culture_collection_date' , 'defaultContent': ''},
            { 'data': 'culture_collection_id' , 'defaultContent': ''},
            { 'data': 'study_title' , 'defaultContent': ''},
            { 'data': 'investigation_type' , 'defaultContent': ''},
            { 'data': 'project_name' , 'defaultContent': ''},
            { 'data': 'sample_title' , 'defaultContent': ''},
            { 'data': 'ploidy' , 'defaultContent': ''},
            { 'data': 'number_of_replicants' , 'defaultContent': ''},
            { 'data': 'estimated_size' , 'defaultContent': ''},
            { 'data': 'propogation' , 'defaultContent': ''},
            { 'data': 'collected_by' , 'defaultContent': ''}
        ]
      }, CONFIG.tables.ajaxConfig);

      config.ajax.url = url;

      return config;
    });
  };

  $(document).ready(function() {
     sepsis_samples_setup();
  });
</script>

{% endblock %}
