{% extends "base.html" %}

{% block title %}Marine Microbe Samples {% endblock %}

{% block content %}

<div class="container-fluid">
    <div class="alert alert-info" role="alert">
        To sort by multiple columns, press and hold the Shift key.
        <div class="bootstrap_buttons"> </div>
    </div>
    <table class="apitable" width="100%">
        <thead>
            <tr>
                <th>Sample ID</th>
                <th>BPA ID</th>
                <th>Sample Type</th>
                <th>Collection Site</th>
                <th>Collection Date</th>
                <th>Collection Depth</th>
            </tr>
        </thead>
        <tfoot>
            <tr>
                <th>Sample ID</th>
                <th>BPA ID</th>
                <th>Sample Type</th>
                <th>Collection Site</th>
                <th>Collection Date</th>
                <th>Collection Depth</th>
            </tr>
        </tfoot>
        <tbody>
        </tbody>
    </table>

</div>

<script>
  function marine_microbes_samples_setup() {
    var url = bpam_config.ckan_base + 'packages/bpa-marine-microbes';

    setup_table(function() {
      var config = _.defaults({
        searching: true,

        columns: [{
              'data': 'id',
              'defaultContent': '',
              'searchable': false,
              'render': function(data, type, row) {
                  var url = bpam_config.bpam_base + 'marine_microbes/sample/' + data + '/';
                  return '<a href="' + url + '">' + data + '</a>';
              }
            },
            { 'data': 'bpa_id' , 'defaultContent': '', 'searchable': false},
            { 'data': 'sample_type' , 'defaultContent': ''},
            { 'data': 'sample_site', 'defaultContent': '' },
            { 'data': 'date_sampled', 'defaultContent': '' },
            { 'data': 'depth', 'defaultContent': '' }
        ]
      }, CONFIG.tables.ajaxConfig);

      config.ajax.url = url;

      return config;
    });
  };

  $(document).ready(function() {
     marine_microbes_samples_setup();
  });
</script>

{% endblock %}
